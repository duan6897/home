{"remainingRequest":"E:\\zhongqiyan\\conmuser_data\\node_modules\\babel-loader\\lib\\index.js!E:\\zhongqiyan\\conmuser_data\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\zhongqiyan\\conmuser_data\\src\\assets\\api\\httpRequest.js","dependencies":[{"path":"E:\\zhongqiyan\\conmuser_data\\src\\assets\\api\\httpRequest.js","mtime":1591943799081},{"path":"E:\\zhongqiyan\\conmuser_data\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\zhongqiyan\\conmuser_data\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\zhongqiyan\\conmuser_data\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAqIGFzIGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgTWVzc2FnZSwgTG9hZGluZyB9IGZyb20gJ2VsZW1lbnQtdWknOwpheGlvcy5kZWZhdWx0cy5iYXNlVVJMID0gJ2h0dHA6Ly8xMC4xMC4xMC4xNzI6NTgzMDAvYXBpJzsgLy8gYXhpb3MuZGVmYXVsdHMuYmFzZVVSTCA9ICcvYXBpJwoKYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5wb3N0WydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnOyAvLyBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnJ10gPSAnJwoKdmFyIGxvYWRpbmc7CgpmdW5jdGlvbiBzdGFydExvYWRpbmcoKSB7CiAgLy8g5L2/55SoRWxlbWVudCBsb2FkaW5nLXN0YXJ0IOaWueazlQogIGxvYWRpbmcgPSBMb2FkaW5nLnNlcnZpY2UoewogICAgbG9jazogdHJ1ZSwKICAgIHRleHQ6ICfliqDovb3kuK3igKbigKYnLAogICAgc3Bpbm5lcjogJ2VsLWljb24tbG9hZGluZycsCiAgICAvLyBiYWNrZ3JvdW5kOiAncmdiYSgwLCAwLCAwLCAwLjQpJywKICAgIGN1c3RvbUNsYXNzOiAncmVxdWVzdF9sb2FkaW5nJwogIH0pOwp9CgpmdW5jdGlvbiBlbmRMb2FkaW5nKCkgewogIC8vIOS9v+eUqEVsZW1lbnQgbG9hZGluZy1jbG9zZSDmlrnms5UKICAvLyB0aGlzLiRuZXh0VGljaygoKSA9PiB7IC8vIOS7peacjeWKoeeahOaWueW8j+iwg+eUqOeahCBMb2FkaW5nIOmcgOimgeW8guatpeWFs+mXrQogIGxvYWRpbmcuY2xvc2UoKTsgLy8gfSk7Cn0KCnZhciBuZWVkTG9hZGluZ1JlcXVlc3RDb3VudCA9IDA7CmV4cG9ydCBmdW5jdGlvbiBzaG93RnVsbFNjcmVlbkxvYWRpbmcoKSB7CiAgaWYgKG5lZWRMb2FkaW5nUmVxdWVzdENvdW50ID09PSAwKSB7CiAgICBzdGFydExvYWRpbmcoKTsKICB9CgogIG5lZWRMb2FkaW5nUmVxdWVzdENvdW50Kys7Cn0KZXhwb3J0IGZ1bmN0aW9uIHRyeUhpZGVGdWxsU2NyZWVuTG9hZGluZygpIHsKICBpZiAobmVlZExvYWRpbmdSZXF1ZXN0Q291bnQgPD0gMCkgcmV0dXJuOwogIG5lZWRMb2FkaW5nUmVxdWVzdENvdW50LS07CgogIGlmIChuZWVkTG9hZGluZ1JlcXVlc3RDb3VudCA9PT0gMCkgewogICAgZW5kTG9hZGluZygpOwogIH0KfSAvLyDmt7vliqDor7fmsYLmi6bmiKrlmagKCmF4aW9zLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgLy8g5Zyo5Y+R6YCB6K+35rGC5LmL5YmN5YGa5Lqb5LuA5LmICiAgc2hvd0Z1bGxTY3JlZW5Mb2FkaW5nKCk7CiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgLy8g5a+56K+35rGC6ZSZ6K+v5YGa5Lqb5LuA5LmICiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7IC8vIOa3u+WKoOWTjeW6lOaLpuaIquWZqAoKYXhpb3MuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAvLyDlr7nlk43lupTmlbDmja7lgZrngrnku4DkuYgKICB0cnlIaWRlRnVsbFNjcmVlbkxvYWRpbmcoKTsKICByZXR1cm4gcmVzcG9uc2U7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIC8vIOWvueWTjeW6lOmUmeivr+WBmueCueS7gOS5iAogIHN3aXRjaCAoZXJyb3Iuc3RhdHVzKSB7CiAgICBjYXNlICc0MDEnOgogICAgICBNZXNzYWdlKHsKICAgICAgICBtZXNzYWdlOiAn5oKo5bCa5pyq55m75b2V5oiW55m75b2V54q25oCB6L+H5pyf77yM6K+355m76ZmGJywKICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgIGR1cmF0aW9uOiA1ICogMTAwMAogICAgICB9KTsKICAgICAgYnJlYWs7CgogICAgZGVmYXVsdDoKICAgICAgYnJlYWs7CiAgfQoKICB0cnlIaWRlRnVsbFNjcmVlbkxvYWRpbmcoKTsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKdmFyIGh0dHBSZXF1ZXN0ID0gewogIGdldDogZnVuY3Rpb24gZ2V0KHVybCwgb3B0aW9ucykgewogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgYXhpb3MoewogICAgICAgIG1ldGhvZDogJ2dldCcsCiAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgcGFyYW1zOiBvcHRpb25zCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHJlc29sdmUocmVzKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIHBvc3Q6IGZ1bmN0aW9uIHBvc3QodXJsLCBvcHRpb25zKSB7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBheGlvcyh7CiAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgZGF0YTogb3B0aW9ucwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICByZXNvbHZlKHJlcyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICBwb3N0RmlsZTogZnVuY3Rpb24gcG9zdEZpbGUodXJsLCBvcHRpb25zKSB7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBheGlvcyh7CiAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJtdWx0aXBhcnQvZm9ybS1kYXRhIgogICAgICAgIH0sCiAgICAgICAgZGF0YTogb3B0aW9ucwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICByZXNvbHZlKHJlcyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICBwdXQ6IGZ1bmN0aW9uIHB1dCh1cmwsIG9wdGlvbnMpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIGF4aW9zKHsKICAgICAgICBtZXRob2Q6ICdwdXQnLAogICAgICAgIHVybDogdXJsLAogICAgICAgIGRhdGE6IG9wdGlvbnMKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgcmVzb2x2ZShyZXMpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0pOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgaHR0cFJlcXVlc3Q7"},{"version":3,"sources":["E:/zhongqiyan/conmuser_data/src/assets/api/httpRequest.js"],"names":["axios","Message","Loading","defaults","baseURL","headers","post","loading","startLoading","service","lock","text","spinner","customClass","endLoading","close","needLoadingRequestCount","showFullScreenLoading","tryHideFullScreenLoading","interceptors","request","use","config","error","Promise","reject","response","status","message","type","duration","httpRequest","get","url","options","resolve","method","params","then","res","catch","data","postFile","put"],"mappings":"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","sourcesContent":["import * as axios from 'axios'\r\nimport { Message, Loading } from 'element-ui'\r\naxios.defaults.baseURL = 'http://10.10.10.172:58300/api'\r\n\r\n// axios.defaults.baseURL = '/api'\r\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\r\n// axios.defaults.headers.common[''] = ''\r\nlet loading\r\n\r\nfunction startLoading () { // 使用Element loading-start 方法\r\n  loading = Loading.service({\r\n    lock: true,\r\n    text: '加载中……',\r\n    spinner: 'el-icon-loading',\r\n    // background: 'rgba(0, 0, 0, 0.4)',\r\n    customClass: 'request_loading'\r\n  })\r\n}\r\n\r\nfunction endLoading () { // 使用Element loading-close 方法\r\n  // this.$nextTick(() => { // 以服务的方式调用的 Loading 需要异步关闭\r\n  loading.close()\r\n  // });\r\n}\r\nlet needLoadingRequestCount = 0\r\n\r\nexport function showFullScreenLoading () {\r\n  if (needLoadingRequestCount === 0) {\r\n    startLoading()\r\n  }\r\n  needLoadingRequestCount++\r\n}\r\n\r\nexport function tryHideFullScreenLoading () {\r\n  if (needLoadingRequestCount <= 0) return\r\n  needLoadingRequestCount--\r\n  if (needLoadingRequestCount === 0) {\r\n    endLoading()\r\n  }\r\n}\r\n\r\n// 添加请求拦截器\r\naxios.interceptors.request.use(function (config) {\r\n  // 在发送请求之前做些什么\r\n  showFullScreenLoading()\r\n  return config;\r\n}, function (error) {\r\n  // 对请求错误做些什么\r\n  return Promise.reject(error);\r\n});\r\n\r\n// 添加响应拦截器\r\naxios.interceptors.response.use(function (response) {\r\n  // 对响应数据做点什么\r\n  tryHideFullScreenLoading()\r\n  return response;\r\n}, function (error) {\r\n  // 对响应错误做点什么\r\n  switch (error.status) {\r\n    case '401':\r\n      Message({\r\n        message: '您尚未登录或登录状态过期，请登陆',\r\n        type: 'error',\r\n        duration: 5 * 1000\r\n      })\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  tryHideFullScreenLoading();\r\n  return Promise.reject(error);\r\n});\r\n\r\n\r\n\r\nlet httpRequest = {\r\n  get: function (url, options) {\r\n    return new Promise((resolve, reject) => {\r\n      axios({\r\n        method: 'get',\r\n        url: url,\r\n        params: options,\r\n      }).then(res => {\r\n        resolve(res)\r\n      }).catch(error => {\r\n        reject(error)\r\n      })\r\n    })\r\n  },\r\n  post: function (url, options) {\r\n    return new Promise((resolve, reject) => {\r\n      axios({\r\n        method: 'post',\r\n        url: url,\r\n        data: options\r\n      }).then(res => {\r\n        resolve(res)\r\n      }).catch(error => {\r\n        reject(error)\r\n      })\r\n    })\r\n  },\r\n  postFile: function (url, options) {\r\n    return new Promise((resolve, reject) => {\r\n      axios({\r\n        method: 'post',\r\n        url: url,\r\n        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n        data: options\r\n      }).then(res => {\r\n        resolve(res)\r\n      }).catch(error => {\r\n        reject(error)\r\n      })\r\n    })\r\n  },\r\n  put: function (url, options) {\r\n    return new Promise((resolve, reject) => {\r\n      axios({\r\n        method: 'put',\r\n        url: url,\r\n        data: options\r\n      }).then(res => {\r\n        resolve(res)\r\n      }).catch(error => {\r\n        reject(error)\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\nexport default httpRequest "]}]}