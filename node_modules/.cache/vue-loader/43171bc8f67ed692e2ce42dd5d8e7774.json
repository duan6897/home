{"remainingRequest":"E:\\zhongqiyan\\Material-Select-Web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\zhongqiyan\\Material-Select-Web\\src\\views\\Import\\import.vue?vue&type=style&index=0&id=5a617605&lang=scss&scoped=true&","dependencies":[{"path":"E:\\zhongqiyan\\Material-Select-Web\\src\\views\\Import\\import.vue","mtime":1592474012899},{"path":"E:\\zhongqiyan\\Material-Select-Web\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\zhongqiyan\\Material-Select-Web\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\zhongqiyan\\Material-Select-Web\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\zhongqiyan\\Material-Select-Web\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\zhongqiyan\\Material-Select-Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\zhongqiyan\\Material-Select-Web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQojaG9tZVBhZ2VQaWN0dXJlcyB7DQogIHdpZHRoOiA5NiU7DQogIGhlaWdodDogOTYlOw0KICBiYWNrZ3JvdW5kOiAjZmZmZmZmOw0KICBtYXJnaW46IDAuNSUgYXV0bzsNCiAgLnRvcFNob3cgew0KICAgIGhlaWdodDogODBweDsNCiAgICAudG9wTGVmdCB7DQogICAgICBmbG9hdDogbGVmdDsNCiAgICAgIG1hcmdpbi1sZWZ0OiAyNHB4Ow0KICAgICAgbWFyZ2luLXRvcDogMjBweDsNCiAgICB9DQogICAgLnRvcFJpZ2h0IHsNCiAgICAgIGZsb2F0OiByaWdodDsNCiAgICAgIG1hcmdpbi1yaWdodDogMjRweDsNCiAgICAgIG1hcmdpbi10b3A6IDIwcHg7DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["import.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"import.vue","sourceRoot":"src/views/Import","sourcesContent":["<template>\r\n  <div id=\"homePagePictures\">\r\n    <el-row class=\"topShow\">\r\n\r\n      <div class=\"topLeft\">\r\n        <el-button icon=\"el-icon-plus\"\r\n                   class=\"createMaterial\"\r\n                   type=\"primary\"\r\n                   @click=\"showFormDialog\">新建</el-button>\r\n      </div>\r\n      <div class=\"topRight\">\r\n        <el-button type=\"primary\">导入</el-button>\r\n        <el-button plain\r\n                   type=\"primary\"\r\n                   @click=\"download\">下载模板</el-button>\r\n        <el-button plain\r\n                   type=\"danger\"\r\n                   @click=\"deleteAll(ids)\">批量删除</el-button>\r\n      </div>\r\n    </el-row>\r\n    <el-row>\r\n      <componentsTable :tableSelection=\"showSelection\"\r\n                       :operation='operation'\r\n                       :tableIndex=\"tableIndex\"\r\n                       :tableHead=\"tableHead\"\r\n                       :border=\"true\"\r\n                       :pageTotal=\"pageToal\"\r\n                       :operationArr=\"operationArr\"\r\n                       @choseselection=\"selctionChose\"\r\n                       @buttonclick=\"clickButton\"\r\n                       @changnum='changeNumber'\r\n                       @changpage=\"changePage\"></componentsTable>\r\n    </el-row>\r\n    <formDialog ref=\"fromDialog\"\r\n                :ruleForm=\"ruleForm\"></formDialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport httprequest from '@/assets/api/request'\r\nimport componentsTable from '@/components/table/componentsTable'\r\nimport formDialog from '@/components/dialog/formDialog'\r\nexport default {\r\n  components: { componentsTable, formDialog },\r\n  data () {\r\n    return {\r\n      tableData: [],\r\n      showSelection: true,\r\n      operation: true,\r\n      tableIndex: true,\r\n      pageTotal: 0,\r\n      pageSize: 10,\r\n      pageNum: 1,\r\n      tableHead: [\r\n        { label: '车辆品牌', prop: 'vehicleBrand' },\r\n        { label: '车辆名称', prop: 'vehicleName' },\r\n        { label: '车辆类型', prop: 'vehicleType' },\r\n        { label: '燃料类型', prop: 'fuelType' },\r\n        { label: '车型级别', prop: 'vehicleLevel' },\r\n        { label: '总成名称', prop: 'assemblyName' },\r\n        { label: '零部件名称', prop: 'sparePartsName' },\r\n        { label: '零部件供应商', width: '120px', prop: 'sparePartsSupplier' },\r\n        { label: '零部件重量', prop: 'sparePartsWeight' },\r\n        { label: '零部件用材', prop: 'sparePartsMaterial' },\r\n      ],\r\n      operationArr: [\r\n        { icon: \"el-icon-edit-outline\", title: '编辑' },\r\n        { icon: \"el-icon-delete\", title: '删除' }\r\n      ],\r\n      ruleForm: {\r\n        vehicleBrand: {\r\n          type: '1',\r\n          label: '车辆品牌',\r\n          name: 'vehicleBrand',\r\n          value: ''\r\n        },\r\n        vehicleName: {\r\n          type: '1',\r\n          label: '车辆名称',\r\n          name: 'vehicleName',\r\n          value: ''\r\n        },\r\n        vehicleType: {\r\n          type: '1',\r\n          label: '车辆类型',\r\n          name: 'vehicleType',\r\n          value: ''\r\n        },\r\n        fuelType: {\r\n          type: '1',\r\n          label: '燃料类型',\r\n          name: 'fuelType',\r\n          value: ''\r\n        },\r\n        vehicleLevel: {\r\n          type: '1',\r\n          label: '车辆级别',\r\n          name: 'vehicleLevel',\r\n          value: ''\r\n        },\r\n        assemblyName: {\r\n          type: '1',\r\n          label: '总成名称',\r\n          name: 'assemblyName',\r\n          value: ''\r\n        },\r\n        sparePartsName: {\r\n          type: '1',\r\n          label: '零部件名称',\r\n          name: 'sparePartsName',\r\n          value: ''\r\n        },\r\n        sparePartsSupplier: {\r\n          type: '1',\r\n          label: '零部件供应商',\r\n          name: 'sparePartsSupplier',\r\n          value: ''\r\n        },\r\n        sparePartsWeight: {\r\n          type: '1',\r\n          label: '零部件重量',\r\n          name: 'sparePartsWeight',\r\n          value: ''\r\n        },\r\n        sparePartsMaterial: {\r\n          type: '1',\r\n          label: '零部件用材',\r\n          name: 'sparePartsMaterial',\r\n          value: ''\r\n        }\r\n      },\r\n      ids: ''\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getData()\r\n  },\r\n  methods: {\r\n    download () {\r\n      location.href = 'http://10.10.10.12:8140/api/material/vehicleMaterial/download'\r\n    },\r\n    // 选择\r\n    selctionChose (val) {\r\n      console.log('测试这个val', val)\r\n      let _this = this\r\n      val.forEach(res => {\r\n        if (_this.ids === '') {\r\n          _this.ids = res.id\r\n        } else {\r\n          _this.ids += `,${res.id}`\r\n        }\r\n      })\r\n    },\r\n    // 点击按钮\r\n    clickButton (name, title, index, row) {\r\n      console.log('测试这个name,index，row', name, title, index, row)\r\n      switch (title) {\r\n        case '编辑':\r\n          this.showFormDialog()\r\n          break\r\n        case '删除':\r\n          this.deleteAll(row.id)\r\n          break\r\n        default:\r\n          break\r\n      }\r\n    },\r\n\r\n    // delete删除\r\n    deleteAll (res) {\r\n      let _this = this\r\n      let option = {\r\n        ids: res\r\n      }\r\n      httprequest.delete('/material/vehicleMaterialCompar', option, res => {\r\n        if (res.data.ok) {\r\n          _this.$message.success('删除成功')\r\n        } else {\r\n          _this.$message.error(res.data.message)\r\n        }\r\n      })\r\n\r\n    },\r\n    // 编辑\r\n    edit (row) {\r\n      let _this = this\r\n      let options = {\r\n        \"assemblyName\": \"string\",\r\n        \"createdTime\": \"2020-06-18T09:37:40.221Z\",\r\n        \"createdUser\": \"string\",\r\n        \"fuelType\": \"string\",\r\n        \"id\": row.id,\r\n        \"materialId\": \"string\",\r\n        \"sparePartsMaterial\": \"string\",\r\n        \"sparePartsName\": \"string\",\r\n        \"sparePartsSupplier\": \"string\",\r\n        \"sparePartsWeight\": 0,\r\n        \"updatedTime\": \"2020-06-18T09:37:40.221Z\",\r\n        \"updatedUser\": \"string\",\r\n        \"vehicleBrand\": \"string\",\r\n        \"vehicleLevel\": \"string\",\r\n        \"vehicleName\": \"string\",\r\n        \"vehicleType\": \"string\"\r\n      }\r\n      httprequest.put('/material/vehicleMaterialCompar', options, res => {\r\n        if (res.data.ok) {\r\n          _this.$message.success('修改成功')\r\n        } else {\r\n          _this.$message.error(res.message)\r\n        }\r\n      })\r\n    },\r\n    // 新增\r\n    create () {\r\n      let _this = this\r\n      let option = {\r\n        vehicleMaterialCompar: {\r\n          \"assemblyName\": \"string\",\r\n          \"createdTime\": \"2020-06-18T09:50:37.321Z\",\r\n          \"createdUser\": \"string\",\r\n          \"fuelType\": \"string\",\r\n          \"id\": \"string\",\r\n          \"materialId\": \"string\",\r\n          \"sparePartsMaterial\": \"string\",\r\n          \"sparePartsName\": \"string\",\r\n          \"sparePartsSupplier\": \"string\",\r\n          \"sparePartsWeight\": 0,\r\n          \"updatedTime\": \"2020-06-18T09:50:37.321Z\",\r\n          \"updatedUser\": \"string\",\r\n          \"vehicleBrand\": \"string\",\r\n          \"vehicleLevel\": \"string\",\r\n          \"vehicleName\": \"string\",\r\n          \"vehicleType\": \"string\"\r\n        }      }\r\n      httprequest.post('/material/vehicleMaterialCompar', option, res => {\r\n        if (res.data.ok) {\r\n          _this.$message.success('添加成功')\r\n        } else {\r\n          _this.$message.error(res.data.message)\r\n        }\r\n      })\r\n    },\r\n    // 显示新建\r\n    showFormDialog () {\r\n      this.$refs.fromDialog.showDialog()\r\n    },\r\n    // 查询分页\r\n    getData () {\r\n      // /material/vehicleMaterial/page\r\n      let _this = this\r\n      let options = {\r\n        \"current\": _this.pageNum,\r\n        \"size\": _this.pageSize\r\n      }\r\n      httprequest.post('/material/vehicleMaterial/page', options, res => {\r\n        console.log('测试res', res)\r\n        if (res.data.ok) {\r\n          _this.tableData = res.data.data.records\r\n          _this.pageTotal = res.data.data.total\r\n        }\r\n      })\r\n    },\r\n    // 切换条数\r\n    changeNumber (val) {\r\n      let _this = this\r\n      _this.pageSize = val\r\n      _this.pageChose()\r\n    },\r\n    // 切换页码\r\n    changePage (val) {\r\n      let _this = this\r\n      _this.pageNum = val\r\n      _this.pageChose()\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n#homePagePictures {\r\n  width: 96%;\r\n  height: 96%;\r\n  background: #ffffff;\r\n  margin: 0.5% auto;\r\n  .topShow {\r\n    height: 80px;\r\n    .topLeft {\r\n      float: left;\r\n      margin-left: 24px;\r\n      margin-top: 20px;\r\n    }\r\n    .topRight {\r\n      float: right;\r\n      margin-right: 24px;\r\n      margin-top: 20px;\r\n    }\r\n  }\r\n}\r\n</style>"]}]}